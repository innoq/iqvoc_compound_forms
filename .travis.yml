language: ruby
cache: bundler
bundler_args:
rvm:
- 1.9.3
- 2.0.0
- 2.1.0
- 2.1.1
- jruby-19mode
env:
- DB=sqlite
- DB=mysql
before_install: cp config/database.$DB.yml config/database.yml
before_script:
- bundle exec rake db:drop RAILS_ENV=test
- bundle exec rake db:create RAILS_ENV=test
- bundle exec rake db:migrate RAILS_ENV=test
branches:
  only:
  - master
notifications:
  email:
  - iqvoc@innoq.com
deploy:
  provider: rubygems
  api_key:
    secure: maEhwWkTskmPRX1BdqJXrpnKrtTKrBGoho33oFn70OD+Z51vHYuZxz5SYUyzEG/uL2R5QFlIReUFtibpnSZx1xvTnqZyxMWY8gvRaOhrgmGoKmGvtbqF9zABTv7K/ivY5Kkt6jo3jahvf4/eQ+bWKCnA0Ak1JpuWhbgxZY8hUGY=
  gem: iqvoc_compound_forms
  on:
    tags: true
    repo: innoq/iqvoc_compound_forms
